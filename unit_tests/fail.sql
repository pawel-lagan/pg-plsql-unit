CREATE OR REPLACE FUNCTION unit_test.fail(in_msg character varying,in_do_not_throw boolean DEFAULT true) RETURNS voidAS$body$BEGIN	PERFORM unit_test._exec('UPDATE unit_test.results SET		test_count = test_count +1,		test_failed = test_failed + 1,		messages = messages || ' || quote_literal(in_msg) || '::text	WHERE done = false');		IF NOT in_do_not_throw THEN		RAISE EXCEPTION 'UNIT TEST FAIL WITH %', in_msg;	END IF;END;$body$    LANGUAGE plpgsql;